generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id                String                @id @default(cuid())
  email             String                @unique
  password          String
  name              String?
  tokens            Token[]
  notes             Note[]
  sortingNotes      NotesSortOption       @default(BY_DATE)
  categories        Category[]
  sortingCategories CategoriesSortOption  @default(NEWEST)
  timezone          Timezone
  timeLogs          TimeLog[]
  createdAt         DateTime              @default(now()) @db.Timestamptz(3)
  updatedAt         DateTime              @updatedAt @db.Timestamptz(3)
  controlValue      String                @default("new user")
}

model Token {
  id            String      @id @default(cuid())
  user          User        @relation(fields: [userId], references: [id])
  userId        String
  userAgent     String?
  createdAt     DateTime    @default(now()) @db.Timestamptz(3)
  expiresAt     DateTime?   @db.Timestamptz(3)
  updatedAt     DateTime    @updatedAt @db.Timestamptz(3)
}

model Note {
  id            String      @id @default(cuid())
  user          User        @relation(fields: [userId], references: [id])
  userId        String
  text          String?
  category      Category?   @relation(fields: [categoryId], references: [id])
  categoryId    String?
  createdAt     DateTime    @default(now()) @db.Timestamptz(3)
  updatedAt     DateTime    @updatedAt @db.Timestamptz(3)
}

model Category {
  id                  String      @id @default(cuid())
  name                String
  user                User        @relation(fields: [userId], references: [id])
  userId              String
  color               String
  active              Boolean     @default(false)
  visible             Boolean     @default(true)
  timeLogs            TimeLog[]
  notes               Note[]
  deleted             Boolean     @default(false)
  createdAt           DateTime    @default(now()) @db.Timestamptz(3)
  updatedAt           DateTime    @updatedAt @db.Timestamptz(3)
}

model TimeLog {
  id            String        @id @default(cuid())
  user          User          @relation(fields: [userId], references: [id])
  userId        String
  comment       Comment?
  category      Category      @relation(fields: [categoryId], references: [id])
  categoryId    String
  createdAt     DateTime      @default(now()) @db.Timestamptz(3)
  updatedAt     DateTime      @updatedAt @db.Timestamptz(3)
  startedAt     DateTime      @default(now()) @db.Timestamptz(3)
  endedAt       DateTime?     @db.Timestamptz(3)
}

model Comment {
  id            String      @id @default(cuid())
  comment       String
  timeLog       TimeLog     @relation(fields: [timeLogId], references: [id])
  timeLogId     String      @unique
  createdAt     DateTime    @default(now()) @db.Timestamptz(3)
  updatedAt     DateTime    @updatedAt @db.Timestamptz(3)
}

enum CategoriesSortOption {
  NEWEST
  OLDEST
  ALPHABETICAL
  REVERSED_ALPHABETICAL
}

enum NotesSortOption {
  BY_DATE
  FAVORITES_FIRST
}

enum Timezone {
  AFRICA__ABIDJAN
  AFRICA__ALGIERS
  AFRICA__BISSAU
  AFRICA__CAIRO
  AFRICA__CASABLANCA
  AFRICA__CEUTA
  AFRICA__EL_AAIUN
  AFRICA__JOHANNESBURG
  AFRICA__JUBA
  AFRICA__KHARTOUM
  AFRICA__LAGOS
  AFRICA__MAPUTO
  AFRICA__MONROVIA
  AFRICA__NAIROBI
  AFRICA__NDJAMENA
  AFRICA__SAO_TOME
  AFRICA__TRIPOLI
  AFRICA__TUNIS
  AFRICA__WINDHOEK
  AMERICA__ADAK
  AMERICA__ANCHORAGE
  AMERICA__ARAGUAINA
  AMERICA__ARGENTINA__BUENOS_AIRES
  AMERICA__ARGENTINA__CATAMARCA
  AMERICA__ARGENTINA__CORDOBA
  AMERICA__ARGENTINA__JUJUY
  AMERICA__ARGENTINA__LA_RIOJA
  AMERICA__ARGENTINA__MENDOZA
  AMERICA__ARGENTINA__RIO_GALLEGOS
  AMERICA__ARGENTINA__SALTA
  AMERICA__ARGENTINA__SAN_JUAN
  AMERICA__ARGENTINA__SAN_LUIS
  AMERICA__ARGENTINA__TUCUMAN
  AMERICA__ARGENTINA__USHUAIA
  AMERICA__ASUNCION
  AMERICA__BAHIA
  AMERICA__BAHIA_BANDERAS
  AMERICA__BARBADOS
  AMERICA__BELEM
  AMERICA__BELIZE
  AMERICA__BOA_VISTA
  AMERICA__BOGOTA
  AMERICA__BOISE
  AMERICA__CAMBRIDGE_BAY
  AMERICA__CAMPO_GRANDE
  AMERICA__CANCUN
  AMERICA__CARACAS
  AMERICA__CAYENNE
  AMERICA__CHICAGO
  AMERICA__CHIHUAHUA
  AMERICA__COSTA_RICA
  AMERICA__CUIABA
  AMERICA__DANMARKSHAVN
  AMERICA__DAWSON
  AMERICA__DAWSON_CREEK
  AMERICA__DENVER
  AMERICA__DETROIT
  AMERICA__EDMONTON
  AMERICA__EIRUNEPE
  AMERICA__EL_SALVADOR
  AMERICA__FORT_NELSON
  AMERICA__FORTALEZA
  AMERICA__GLACE_BAY
  AMERICA__GOOSE_BAY
  AMERICA__GRAND_TURK
  AMERICA__GUATEMALA
  AMERICA__GUAYAQUIL
  AMERICA__GUYANA
  AMERICA__HALIFAX
  AMERICA__HAVANA
  AMERICA__HERMOSILLO
  AMERICA__INDIANA__INDIANAPOLIS
  AMERICA__INDIANA__KNOX
  AMERICA__INDIANA__MARENGO
  AMERICA__INDIANA__PETERSBURG
  AMERICA__INDIANA__TELL_CITY
  AMERICA__INDIANA__VEVAY
  AMERICA__INDIANA__VINCENNES
  AMERICA__INDIANA__WINAMAC
  AMERICA__INUVIK
  AMERICA__IQALUIT
  AMERICA__JAMAICA
  AMERICA__JUNEAU
  AMERICA__KENTUCKY__LOUISVILLE
  AMERICA__KENTUCKY__MONTICELLO
  AMERICA__LA_PAZ
  AMERICA__LIMA
  AMERICA__LOS_ANGELES
  AMERICA__MACEIO
  AMERICA__MANAGUA
  AMERICA__MANAUS
  AMERICA__MARTINIQUE
  AMERICA__MATAMOROS
  AMERICA__MAZATLAN
  AMERICA__MENOMINEE
  AMERICA__MERIDA
  AMERICA__METLAKATLA
  AMERICA__MEXICO_CITY
  AMERICA__MIQUELON
  AMERICA__MONCTON
  AMERICA__MONTERREY
  AMERICA__MONTEVIDEO
  AMERICA__NEW_YORK
  AMERICA__NOME
  AMERICA__NORONHA
  AMERICA__NORTH_DAKOTA__BEULAH
  AMERICA__NORTH_DAKOTA__CENTER
  AMERICA__NORTH_DAKOTA__NEW_SALEM
  AMERICA__NUUK
  AMERICA__OJINAGA
  AMERICA__PANAMA
  AMERICA__PARAMARIBO
  AMERICA__PHOENIX
  AMERICA__PORTMINUSAUMINUSPRINCE
  AMERICA__PORTO_VELHO
  AMERICA__PUERTO_RICO
  AMERICA__PUNTA_ARENAS
  AMERICA__RANKIN_INLET
  AMERICA__RECIFE
  AMERICA__REGINA
  AMERICA__RESOLUTE
  AMERICA__RIO_BRANCO
  AMERICA__SANTAREM
  AMERICA__SANTIAGO
  AMERICA__SANTO_DOMINGO
  AMERICA__SAO_PAULO
  AMERICA__SCORESBYSUND
  AMERICA__SITKA
  AMERICA__ST_JOHNS
  AMERICA__SWIFT_CURRENT
  AMERICA__TEGUCIGALPA
  AMERICA__THULE
  AMERICA__TIJUANA
  AMERICA__TORONTO
  AMERICA__VANCOUVER
  AMERICA__WHITEHORSE
  AMERICA__WINNIPEG
  AMERICA__YAKUTAT
  AMERICA__YELLOWKNIFE
  ANTARCTICA__CASEY
  ANTARCTICA__DAVIS
  ANTARCTICA__MACQUARIE
  ANTARCTICA__MAWSON
  ANTARCTICA__PALMER
  ANTARCTICA__ROTHERA
  ANTARCTICA__TROLL
  ASIA__ALMATY
  ASIA__AMMAN
  ASIA__ANADYR
  ASIA__AQTAU
  ASIA__AQTOBE
  ASIA__ASHGABAT
  ASIA__ATYRAU
  ASIA__BAGHDAD
  ASIA__BAKU
  ASIA__BANGKOK
  ASIA__BARNAUL
  ASIA__BEIRUT
  ASIA__BISHKEK
  ASIA__CHITA
  ASIA__CHOIBALSAN
  ASIA__COLOMBO
  ASIA__DAMASCUS
  ASIA__DHAKA
  ASIA__DILI
  ASIA__DUBAI
  ASIA__DUSHANBE
  ASIA__FAMAGUSTA
  ASIA__GAZA
  ASIA__HEBRON
  ASIA__HO_CHI_MINH
  ASIA__HONG_KONG
  ASIA__HOVD
  ASIA__IRKUTSK
  ASIA__JAKARTA
  ASIA__JAYAPURA
  ASIA__JERUSALEM
  ASIA__KABUL
  ASIA__KAMCHATKA
  ASIA__KARACHI
  ASIA__KATHMANDU
  ASIA__KHANDYGA
  ASIA__KOLKATA
  ASIA__KRASNOYARSK
  ASIA__KUCHING
  ASIA__MACAU
  ASIA__MAGADAN
  ASIA__MAKASSAR
  ASIA__MANILA
  ASIA__NICOSIA
  ASIA__NOVOKUZNETSK
  ASIA__NOVOSIBIRSK
  ASIA__OMSK
  ASIA__ORAL
  ASIA__PONTIANAK
  ASIA__PYONGYANG
  ASIA__QATAR
  ASIA__QOSTANAY
  ASIA__QYZYLORDA
  ASIA__RIYADH
  ASIA__SAKHALIN
  ASIA__SAMARKAND
  ASIA__SEOUL
  ASIA__SHANGHAI
  ASIA__SINGAPORE
  ASIA__SREDNEKOLYMSK
  ASIA__TAIPEI
  ASIA__TASHKENT
  ASIA__TBILISI
  ASIA__TEHRAN
  ASIA__THIMPHU
  ASIA__TOKYO
  ASIA__TOMSK
  ASIA__ULAANBAATAR
  ASIA__URUMQI
  ASIA__USTMINUSNERA
  ASIA__VLADIVOSTOK
  ASIA__YAKUTSK
  ASIA__YANGON
  ASIA__YEKATERINBURG
  ASIA__YEREVAN
  ATLANTIC__AZORES
  ATLANTIC__BERMUDA
  ATLANTIC__CANARY
  ATLANTIC__CAPE_VERDE
  ATLANTIC__FAROE
  ATLANTIC__MADEIRA
  ATLANTIC__SOUTH_GEORGIA
  ATLANTIC__STANLEY
  AUSTRALIA__ADELAIDE
  AUSTRALIA__BRISBANE
  AUSTRALIA__BROKEN_HILL
  AUSTRALIA__DARWIN
  AUSTRALIA__EUCLA
  AUSTRALIA__HOBART
  AUSTRALIA__LINDEMAN
  AUSTRALIA__LORD_HOWE
  AUSTRALIA__MELBOURNE
  AUSTRALIA__PERTH
  AUSTRALIA__SYDNEY
  CET
  CST6CDT
  EET
  EST
  EST5EDT
  ETC__GMT
  ETC__GMTMINUS1
  ETC__GMTMINUS10
  ETC__GMTMINUS11
  ETC__GMTMINUS12
  ETC__GMTMINUS13
  ETC__GMTMINUS14
  ETC__GMTMINUS2
  ETC__GMTMINUS3
  ETC__GMTMINUS4
  ETC__GMTMINUS5
  ETC__GMTMINUS6
  ETC__GMTMINUS7
  ETC__GMTMINUS8
  ETC__GMTMINUS9
  ETC__GMTPLUS1
  ETC__GMTPLUS10
  ETC__GMTPLUS11
  ETC__GMTPLUS12
  ETC__GMTPLUS2
  ETC__GMTPLUS3
  ETC__GMTPLUS4
  ETC__GMTPLUS5
  ETC__GMTPLUS6
  ETC__GMTPLUS7
  ETC__GMTPLUS8
  ETC__GMTPLUS9
  ETC__UTC
  EUROPE__ANDORRA
  EUROPE__ASTRAKHAN
  EUROPE__ATHENS
  EUROPE__BELGRADE
  EUROPE__BERLIN
  EUROPE__BRUSSELS
  EUROPE__BUCHAREST
  EUROPE__BUDAPEST
  EUROPE__CHISINAU
  EUROPE__DUBLIN
  EUROPE__GIBRALTAR
  EUROPE__HELSINKI
  EUROPE__ISTANBUL
  EUROPE__KALININGRAD
  EUROPE__KIROV
  EUROPE__KYIV
  EUROPE__LISBON
  EUROPE__LONDON
  EUROPE__MADRID
  EUROPE__MALTA
  EUROPE__MINSK
  EUROPE__MOSCOW
  EUROPE__PARIS
  EUROPE__PRAGUE
  EUROPE__RIGA
  EUROPE__ROME
  EUROPE__SAMARA
  EUROPE__SARATOV
  EUROPE__SIMFEROPOL
  EUROPE__SOFIA
  EUROPE__TALLINN
  EUROPE__TIRANE
  EUROPE__ULYANOVSK
  EUROPE__VIENNA
  EUROPE__VILNIUS
  EUROPE__VOLGOGRAD
  EUROPE__WARSAW
  EUROPE__ZURICH
  FACTORY
  HST
  INDIAN__CHAGOS
  INDIAN__MALDIVES
  INDIAN__MAURITIUS
  MET
  MST
  MST7MDT
  PACIFIC__APIA
  PACIFIC__AUCKLAND
  PACIFIC__BOUGAINVILLE
  PACIFIC__CHATHAM
  PACIFIC__EASTER
  PACIFIC__EFATE
  PACIFIC__FAKAOFO
  PACIFIC__FIJI
  PACIFIC__GALAPAGOS
  PACIFIC__GAMBIER
  PACIFIC__GUADALCANAL
  PACIFIC__GUAM
  PACIFIC__HONOLULU
  PACIFIC__KANTON
  PACIFIC__KIRITIMATI
  PACIFIC__KOSRAE
  PACIFIC__KWAJALEIN
  PACIFIC__MARQUESAS
  PACIFIC__NAURU
  PACIFIC__NIUE
  PACIFIC__NORFOLK
  PACIFIC__NOUMEA
  PACIFIC__PAGO_PAGO
  PACIFIC__PALAU
  PACIFIC__PITCAIRN
  PACIFIC__PORT_MORESBY
  PACIFIC__RAROTONGA
  PACIFIC__TAHITI
  PACIFIC__TARAWA
  PACIFIC__TONGATAPU
  PST8PDT
  WET
}
